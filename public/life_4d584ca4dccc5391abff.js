(()=>{var e={478:(e,t,n)=>{"use strict";var{createNanoEvents:s}=n(972);e.exports=s()},346:(e,t,n)=>{"use strict";n(478),e.exports=function(e,t){t=!!t;var n=document.createElement("td");n.className="cell",t&&n.classList.add("alive"),n.setAttribute("data-index",e);const s=document.querySelector("table"),o=s.tBodies[0].rows;let i=o[o.length-1];if(!i){const e=document.createElement("tr");s.tBodies[0].appendChild(e),i=e}if(i.appendChild(n),n.offsetLeft>window.innerWidth-49){i.removeChild(n);const e=document.createElement("tr");s.tBodies[0].appendChild(e)}}},731:(e,t,n)=>{"use strict";n(478);var s=n(346);const o="alive";var i=[];function l(){let e=Date.now();const t=document.querySelector("main"),n=t.querySelectorAll(".cell"),s=document.createElement("table"),i=s.createTBody();let l;for(const e of n){let t=0;const n=[],s=e.parentElement.previousSibling,r=e.parentElement.nextSibling;s&&(n.push(s.cells[e.cellIndex-1]),n.push(s.cells[e.cellIndex]),n.push(s.cells[e.cellIndex+1])),n.push(e.previousSibling),n.push(e.nextSibling),r&&(n.push(r.cells[e.cellIndex-1]),n.push(r.cells[e.cellIndex]),n.push(r.cells[e.cellIndex+1]));for(const e of n)e&&e.classList.contains(o)&&(t+=1);const c=e.cloneNode(!0);2===t||3===t?c.classList.add("alive"):c.classList.remove("alive"),i.rows[e.parentElement.rowIndex]||(l=i.insertRow(-1)),l.appendChild(c)}t.replaceChildren(s),console.log(Date.now()-e)}e.exports={init:function(){const e=document.querySelector("table"),t=document.querySelector("header");let n=e.offsetHeight+t.getBoundingClientRect().height+10,l=1;for(;n<=window.innerHeight;)new s(l,-1!==i.indexOf(l)),l+=1,n=e.offsetHeight+t.getBoundingClientRect().height+10;const r=e.tBodies[0].rows;e.tBodies[0].removeChild(r[r.length-1]),e.addEventListener("click",(function(e){e.target.classList.toggle(o)}))}},document.querySelector("button").addEventListener("click",(function(){requestAnimationFrame((function(){requestAnimationFrame(l)}))}))},972:e=>{e.exports={createNanoEvents:()=>({events:{},emit(e,...t){(this.events[e]||[]).forEach((e=>e(...t)))},on(e,t){return(this.events[e]=this.events[e]||[]).push(t),()=>this.events[e]=(this.events[e]||[]).filter((e=>e!==t))}})}}},t={};function n(s){var o=t[s];if(void 0!==o)return o.exports;var i=t[s]={exports:{}};return e[s](i,i.exports,n),i.exports}(()=>{"use strict";n(731).init()})()})();
//# sourceMappingURL=life_4d584ca4dccc5391abff.js.map