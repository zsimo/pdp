{"version":3,"file":"population_d1c928a3bf961315cdd8.js","mappings":"wCACA,IAAI,iBAAEA,GAAqB,EAAQ,KACnCC,EAAOC,QAAUF,G,uBCDjBC,EAAOC,QAAU,CACbC,iBAAkB,SAAUC,EAAKC,GAC7B,OAAQC,KAAKC,MAAMD,KAAKE,UAAYH,EAAMD,GAAOA,EACrD,E,6BCFJ,IAAIK,EAAS,EAAQ,KACjBC,EAAU,EAAQ,KAEtB,MAAMC,EAAM,GACNC,EAASC,SAASC,cAAc,QAAQC,aACxCC,EAAO,GACPC,EAAQJ,SAASC,cAAc,QAAQI,YAEvCC,EAAa,aAEnB,IAAIC,EAAkB,EAClBC,EAAgB,EAUpB,SAASC,EAAYC,EAASC,GAC1B,OAAIA,IAAcL,IACVI,GAAWP,GAAQO,GAAWN,KAC9BG,GAAoBA,GAEjBG,EAAUH,KAEbG,GAAWZ,GAAOY,GAAWX,KAC7BS,GAAkBA,GAEfE,EAAUF,EAGzB,CAMA,SAASI,IAELC,KAAKC,GAAGC,MAAMC,IAAMP,EAAWQ,SAASJ,KAAKC,GAAGC,MAAMC,IAAK,IAjC9C,YAiC+D,KAC5EH,KAAKC,GAAGC,MAAMG,KAAOT,EAAWQ,SAASJ,KAAKC,GAAGC,MAAMG,KAAM,IAAKZ,GAAc,KAE9D,IAAdO,KAAKM,MACLN,KAAKO,aACLP,KAAKQ,aACLR,KAAKC,GAAGQ,UAAY,OACpB1B,EAAO2B,KAAK,OAAQV,KAAKC,GAAGC,MAAMC,IAAKH,KAAKC,GAAGC,MAAMG,OAErDL,KAAKM,MAAQ,CAGrB,CAqCA/B,EAAOC,QAnCM,SAAUmC,GAEnBX,KAAKC,GAAKd,SAASyB,cAAc,OACjCZ,KAAKM,KAAOtB,EAAQP,iBAAiB,GAAI,KACzCuB,KAAKO,WAAaxB,EAAO8B,GAAG,OAAQd,EAAOe,KAAKd,OAGhD,IAAIe,EAAgBhC,EAAO8B,GAAG,UAAW,SAAUG,GAE/ChB,KAAKQ,aACLR,KAAKO,aACLQ,IAEA5B,SAASC,cAAc,QAAQ6B,YAAYjB,KAAKC,GAEpD,EAAEa,KAAKd,OAEPA,KAAKQ,WAAazB,EAAO8B,GAAG,OAAQ,SAAUV,EAAKE,GAE3CF,IAAQH,KAAKC,GAAGC,MAAMC,KAAOE,IAASL,KAAKC,GAAGC,MAAMG,OACpDa,QAAQC,IAAInB,KAAKC,GAAGmB,aAAa,cAAe,WAAYpB,KAAKM,MACjEN,KAAKM,MAAQ,GAGrB,EAAEQ,KAAKd,OAEPA,KAAKC,GAAGC,MAAMC,IAAMnB,EAAQP,iBAAiBQ,EAAKC,GAAU,KAC5Dc,KAAKC,GAAGC,MAAMG,KAAOrB,EAAQP,iBAAiBa,EAAMC,GAAS,KAC7DS,KAAKC,GAAGQ,UAAY,SAEpBT,KAAKC,GAAGoB,aAAa,aAAcV,GACnCxB,SAASC,cAAc,QAAQkC,YAAYtB,KAAKC,GAEpD,C,6BCxFA,IAAIlB,EAAS,EAAQ,KACjBwC,EAAS,EAAQ,KASrBhD,EAAOC,QAAU,CACbgD,KAPJ,WACI,IAAK,IAAIC,EAAI,EAAGA,EAHJ,IAGiBA,GAAK,EAC9B,IAAIF,EAAOE,EAEnB,GAQAC,aAAY,WACR3C,EAAO2B,KAAK,OAChB,GAnBkB,I,UCUlBnC,EAAOC,QAAU,CAAEF,iBAZI,KAAM,CAC3BS,OAAQ,CAAC,EACT,IAAA2B,CAAKiB,KAAUC,IACX5B,KAAKjB,OAAO4C,IAAU,IAAIE,SAAQJ,GAAKA,KAAKG,IAChD,EACA,EAAAf,CAAGc,EAAOG,GAER,OADE9B,KAAKjB,OAAO4C,GAAS3B,KAAKjB,OAAO4C,IAAU,IAAII,KAAKD,GAC/C,IACJ9B,KAAKjB,OAAO4C,IAAU3B,KAAKjB,OAAO4C,IAAU,IAAIK,QAAOP,GAAKA,IAAMK,GACvE,I,GCREG,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAa5D,QAGrB,IAAID,EAAS0D,EAAyBE,GAAY,CAGjD3D,QAAS,CAAC,GAOX,OAHA8D,EAAoBH,GAAU5D,EAAQA,EAAOC,QAAS0D,GAG/C3D,EAAOC,OACf,C,mBCpBA,IAAI+D,EAAQ,EAAQ,KAIpBpD,SAASqD,iBAAiB,oBAAoB,WAI1CD,EAAMf,MACV,G","sources":["webpack:///./src/events.js","webpack:///./src/helpers.js","webpack:///./src/pages/population/person.js","webpack:///./src/pages/population/world.js","webpack:///./node_modules/nanoevents/index.cjs","webpack:///webpack/bootstrap","webpack:///./src/pages/population/index.js"],"sourcesContent":["\"use strict\";\nvar { createNanoEvents } = require('nanoevents');\nmodule.exports = createNanoEvents();","\"use strict\";\nmodule.exports = {\n    getRandomBetween: function (min, max) {\n        return  Math.floor(Math.random() * (max - min) + min);\n    }\n};\n\n\n\n","\"use strict\";\n\nvar events = require(\"src/events\");\nvar helpers = require(\"src/helpers\");\n\nconst TOP = 20;\nconst BOTTOM = document.querySelector(\"main\").clientHeight;\nconst LEFT = 20;\nconst RIGHT = document.querySelector(\"main\").clientWidth;\n\nconst HORIZONTAL = \"horizontal\";\nconst VERTICAL = \"vertical\";\nvar horizontal_step = 1;\nvar vertical_step = 1;\n\nfunction randomNext (current, direction) {\n    var newCord = current + (helpers.getRandomBetween(1, 2) === 1 ? -1 : 1);\n    if (direction === HORIZONTAL) {\n        return Math.min(Math.max(newCord, TOP), BOTTOM);\n    } else {\n        return Math.min(Math.max(newCord, LEFT), RIGHT);\n    }\n}\nfunction linearNext (current, direction) {\n    if (direction === HORIZONTAL) {\n        if (current <= LEFT || current >= RIGHT) {\n            horizontal_step = - horizontal_step;\n        }\n        return current + horizontal_step;\n    } else {\n        if (current <= TOP || current >= BOTTOM) {\n            vertical_step = - vertical_step;\n        }\n        return current + vertical_step;\n    }\n\n}\n\nfunction randomMovement (me) {\n    me.style.top = randomNext(parseInt(me.style.top, 10), VERTICAL) + \"px\";\n    me.style.left = randomNext(parseInt(me.style.left, 10), HORIZONTAL) + \"px\";\n}\nfunction linear () {\n\n    this.me.style.top = linearNext(parseInt(this.me.style.top, 10), VERTICAL) + \"px\";\n    this.me.style.left = linearNext(parseInt(this.me.style.left, 10), HORIZONTAL) + \"px\";\n\n    if (this.life === 0) {\n        this.unbindMove();\n        this.unbindFood();\n        this.me.className = \"food\";\n        events.emit(\"food\", this.me.style.top, this.me.style.left);\n    } else {\n        this.life -= 1;\n    }\n\n}\n\nvar person = function (index) {\n\n    this.me = document.createElement(\"div\");\n    this.life = helpers.getRandomBetween(10, 100);\n    this.unbindMove = events.on('move', linear.bind(this));\n\n\n    var unbindDestroy = events.on('destroy', function (number) {\n\n        this.unbindFood();\n        this.unbindMove();\n        unbindDestroy();\n\n        document.querySelector(\"main\").removeChild(this.me);\n\n    }.bind(this));\n\n    this.unbindFood = events.on('food', function (top, left) {\n\n        if (top === this.me.style.top || left === this.me.style.left) {\n            console.log(this.me.getAttribute(\"data-index\"), \"mangiato\", this.life)\n            this.life += 50;\n        }\n\n    }.bind(this));\n\n    this.me.style.top = helpers.getRandomBetween(TOP, BOTTOM) + \"px\";\n    this.me.style.left = helpers.getRandomBetween(LEFT, RIGHT) + \"px\";\n    this.me.className = \"person\";\n    // me.innerText = index;\n    this.me.setAttribute(\"data-index\", index);\n    document.querySelector(\"main\").appendChild(this.me);\n\n};\n\nmodule.exports = person;","\"use strict\";\n\nconst FREQUENCY = 100;\nvar events = require(\"src/events\");\nvar person = require(\"src/pages/population/person\");\nconst COUNTER = 200;\n\nfunction create () {\n    for (var i = 0; i < COUNTER; i += 1) {\n        new person(i);\n    }\n}\n\nmodule.exports = {\n    init: create\n};\n\n\n\nsetInterval(function () {\n    events.emit(\"move\");\n}, FREQUENCY);\n","let createNanoEvents = () => ({\n  events: {},\n  emit(event, ...args) {\n    ;(this.events[event] || []).forEach(i => i(...args))\n  },\n  on(event, cb) {\n    ;(this.events[event] = this.events[event] || []).push(cb)\n    return () =>\n      (this.events[event] = (this.events[event] || []).filter(i => i !== cb))\n  }\n})\n\nmodule.exports = { createNanoEvents }\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","\"use strict\";\n\nvar world = require(\"src/pages/population/world.js\");\n\n\n\ndocument.addEventListener('DOMContentLoaded', function () {\n    // document.querySelector(\".sidebar\").style.height = window.innerHeight + \"px\";\n    // document.querySelector(\"main\").style.height = window.innerHeight + \"px\";\n\n    world.init();\n});"],"names":["createNanoEvents","module","exports","getRandomBetween","min","max","Math","floor","random","events","helpers","TOP","BOTTOM","document","querySelector","clientHeight","LEFT","RIGHT","clientWidth","HORIZONTAL","horizontal_step","vertical_step","linearNext","current","direction","linear","this","me","style","top","parseInt","left","life","unbindMove","unbindFood","className","emit","index","createElement","on","bind","unbindDestroy","number","removeChild","console","log","getAttribute","setAttribute","appendChild","person","init","i","setInterval","event","args","forEach","cb","push","filter","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","world","addEventListener"],"sourceRoot":""}