{"version":3,"file":"life_5e53957ab5b78f4e2d49.js","mappings":"wCACA,IAAI,iBAAEA,GAAqB,EAAQ,KACnCC,EAAOC,QAAUF,G,6BCAJ,EAAQ,KAGrBC,EAAOC,QAAU,SAAUC,EAAOC,GAC9BA,IAAUA,EAEV,IAAIC,EAAKC,SAASC,cAAc,MAEhCF,EAAGG,UAAY,OACXJ,GACAC,EAAGI,UAAUC,IAAI,SAGrBL,EAAGM,aAAa,aAAcR,GAE9B,MAAMS,EAAQN,SAASO,cAAc,SAC/BC,EAAOF,EAAMG,QAAQ,GAAGD,KAC9B,IAAIE,EAAMF,EAAKA,EAAKG,OAAS,GAC7B,IAAKD,EAAK,CACN,MAAME,EAAKZ,SAASC,cAAc,MAClCK,EAAMG,QAAQ,GAAGI,YAAYD,GAC7BF,EAAME,CAEV,CAEA,GADAF,EAAIG,YAAYd,GACZA,EAAGe,WAAaC,OAAOC,WAAa,GAAI,CACxCN,EAAIO,YAAYlB,GAChB,MAAMa,EAAKZ,SAASC,cAAc,MAClCK,EAAMG,QAAQ,GAAGI,YAAYD,EACjC,CAIJ,C,6BCjCa,EAAQ,KAArB,IACIM,EAAO,EAAQ,KAEnB,MAAMC,EAAQ,QACd,IA4HIC,EA3HAC,EAAc,GAyClB,SAASC,IAEL,IAAIC,EAAQC,KAAKC,MACjB,MAAMC,EAAO1B,SAASO,cAAc,QAC9BoB,EAAQD,EAAKE,iBAAiB,SAG9BC,EAAW7B,SAASC,cAAc,SAClC6B,EAAWD,EAASE,cAG1B,IAAInB,EACJ,IAAK,MAAMM,KAAQS,EAAO,CACtB,IAAIK,EAAc,EAClB,MAAMC,EAAY,GACZC,EAAWhB,EAAKiB,cAAcC,gBAC9BC,EAAWnB,EAAKiB,cAAcG,YAChCJ,IAEAD,EAAUM,KAAKL,EAASP,MAAMT,EAAKsB,UAAY,IAE/CP,EAAUM,KAAKL,EAASP,MAAMT,EAAKsB,YAEnCP,EAAUM,KAAKL,EAASP,MAAMT,EAAKsB,UAAY,KAInDP,EAAUM,KAAKrB,EAAKkB,iBAEpBH,EAAUM,KAAKrB,EAAKoB,aAChBD,IAEAJ,EAAUM,KAAKF,EAASV,MAAMT,EAAKsB,UAAY,IAE/CP,EAAUM,KAAKF,EAASV,MAAMT,EAAKsB,YAEnCP,EAAUM,KAAKF,EAASV,MAAMT,EAAKsB,UAAY,KAInD,IAAK,MAAMC,KAAYR,EACfQ,GAAYA,EAAStC,UAAUuC,SAASvB,KACxCa,GAAe,GAGvB,MAAMW,EAAUzB,EAAK0B,WAAU,GAC3BZ,EAAc,GAAKA,EAAc,EACjCW,EAAQxC,UAAU0C,OAAO,SACF,IAAhBb,GACPW,EAAQxC,UAAUC,IAAI,SAIrB0B,EAAStB,KAAKU,EAAKiB,cAAcW,YAElClC,EAAKkB,EAASiB,WAAW,IAO7BnC,EAAGC,YAAY8B,EAEnB,CAQAjB,EAAKsB,gBAAgBnB,GAErBoB,QAAQC,IAAI1B,KAAKC,MAAMF,GAEiC,IAApDvB,SAAS4B,iBAAiB,eAAejB,QACzCwC,cAAc/B,EAGtB,CArFAzB,EAAOC,QAAU,CACbwD,KArBJ,WACI,MAAM9C,EAAQN,SAASO,cAAc,SAC/B8C,EAASrD,SAASO,cAAc,UAEtC,IAAI+C,EAAchD,EAAMiD,aAAeF,EAAOG,wBAAwBC,OADtD,GAEZC,EAAU,EACd,KAAOJ,GAAevC,OAAO4C,aACzB,IAAIzC,EAAKwC,GAA2C,IAAlCrC,EAAYuC,QAAQF,IACtCA,GAAW,EACXJ,EAAchD,EAAMiD,aAAeF,EAAOG,wBAAwBC,OANtD,GAQhB,MAAMjD,EAAOF,EAAMG,QAAQ,GAAGD,KAC9BF,EAAMG,QAAQ,GAAGQ,YAAYT,EAAKA,EAAKG,OAAS,IAEhDL,EAAMuD,iBAAiB,SAAS,SAAUC,GACvBA,EAAEC,OACV5D,UAAU6D,OAAO7C,EAC5B,GACJ,GA0FcnB,SAASO,cAAc,UAC/BsD,iBAAiB,SAAS,WAG5BzC,EAAa6C,YAAY3C,EAjIf,IAkId,G,UC5HA3B,EAAOC,QAAU,CAAEF,iBAZI,KAAM,CAC3BwE,OAAQ,CAAC,EACT,IAAAC,CAAKC,KAAUC,IACXC,KAAKJ,OAAOE,IAAU,IAAIG,SAAQC,GAAKA,KAAKH,IAChD,EACA,EAAAI,CAAGL,EAAOM,GAER,OADEJ,KAAKJ,OAAOE,GAASE,KAAKJ,OAAOE,IAAU,IAAI7B,KAAKmC,GAC/C,IACJJ,KAAKJ,OAAOE,IAAUE,KAAKJ,OAAOE,IAAU,IAAIO,QAAOH,GAAKA,IAAME,GACvE,I,GCREE,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAanF,QAGrB,IAAID,EAASiF,EAAyBE,GAAY,CAGjDlF,QAAS,CAAC,GAOX,OAHAqF,EAAoBH,GAAUnF,EAAQA,EAAOC,QAASiF,GAG/ClF,EAAOC,OACf,C,mBCpBY,EAAQ,KAEdwD,M","sources":["webpack:///./src/events.js","webpack:///./src/pages/life/cell.js","webpack:///./src/pages/life/world.js","webpack:///./node_modules/nanoevents/index.cjs","webpack:///webpack/bootstrap","webpack:///./src/pages/life/index.js"],"sourcesContent":["\"use strict\";\nvar { createNanoEvents } = require('nanoevents');\nmodule.exports = createNanoEvents();","\"use strict\";\n\nvar events = require(\"src/events\");\n\n\nmodule.exports = function (index, alive) {\n    alive = !!alive;\n\n    var me = document.createElement(\"td\");\n\n    me.className = \"cell\";\n    if (alive) {\n        me.classList.add(\"alive\");\n    }\n    // me.innerText = index;\n    me.setAttribute(\"data-index\", index);\n\n    const table = document.querySelector(\"table\");\n    const rows = table.tBodies[0].rows;\n    let row = rows[rows.length - 1];\n    if (!row) {\n        const tr = document.createElement(\"tr\");\n        table.tBodies[0].appendChild(tr);\n        row = tr;\n\n    }\n    row.appendChild(me);\n    if (me.offsetLeft > window.innerWidth - 49) {\n        row.removeChild(me);\n        const tr = document.createElement(\"tr\");\n        table.tBodies[0].appendChild(tr);\n    }\n    //console.log(table.tBodies[0].rows)\n    //document.querySelector(\"main\").appendChild(me);\n\n};","\"use strict\";\n\nvar events = require(\"src/events\");\nvar cell = require(\"src/pages/life/cell\");\n\nconst ALIVE = \"alive\";\nvar INSTANT = 100;\nvar ALIVE_CELLS = [\n    // 1358, 1428, 1498, 1429, 1360\n\n    // 1, 23, 4, 56, 6, 7, 8, 9, 10,\n    // 20, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60,\n    // 30, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60,\n    // 40, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60,\n    // 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60,\n    // 60, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60\n];\n// var cells = [];\n// for (var i = 0; i < count; i += 1) {\n//     cells.push(i);\n// }\n\n\nfunction create () {\n    const table = document.querySelector(\"table\");\n    const header = document.querySelector(\"header\");\n    const padding = 10;\n    let tableBottom = table.offsetHeight + header.getBoundingClientRect().height + padding;\n    let counter = 1;\n    while (tableBottom <= window.innerHeight) {\n        new cell(counter, ALIVE_CELLS.indexOf(counter) !== -1);\n        counter += 1;\n        tableBottom = table.offsetHeight + header.getBoundingClientRect().height + padding;\n    }\n    const rows = table.tBodies[0].rows;\n    table.tBodies[0].removeChild(rows[rows.length - 1]);\n\n    table.addEventListener(\"click\", function (e) {\n        const target = e.target;\n        target.classList.toggle(ALIVE);\n    });\n}\n\nmodule.exports = {\n    init: create\n};\n\n\nfunction _iterate () {\n\n    let start = Date.now();\n    const main = document.querySelector(\"main\");\n    const cells = main.querySelectorAll(\".cell\");\n\n    // const fragment = new DocumentFragment();\n    const newTable = document.createElement(\"table\");\n    const newTbody = newTable.createTBody();\n    //const newTbody = document.createElement(\"tbody\");\n    // fragment.appendChild(newTable);\n    let tr;\n    for (const cell of cells) {\n        let activeCount = 0;\n        const neighbors = [];\n        const rowAbove = cell.parentElement.previousSibling;\n        const rowBelow = cell.parentElement.nextSibling;\n        if (rowAbove) {\n            // topLeft\n            neighbors.push(rowAbove.cells[cell.cellIndex - 1]);\n            // top\n            neighbors.push(rowAbove.cells[cell.cellIndex]);\n            // topRight\n            neighbors.push(rowAbove.cells[cell.cellIndex + 1]);\n        }\n\n        // left\n        neighbors.push(cell.previousSibling);\n        // right\n        neighbors.push(cell.nextSibling);\n        if (rowBelow) {\n            // belowLeft\n            neighbors.push(rowBelow.cells[cell.cellIndex - 1]);\n            // below\n            neighbors.push(rowBelow.cells[cell.cellIndex]);\n            // belowRight\n            neighbors.push(rowBelow.cells[cell.cellIndex + 1]);\n        }\n\n\n        for (const neighbor of neighbors) {\n            if (neighbor && neighbor.classList.contains(ALIVE)) {\n                activeCount += 1;\n            }\n        }\n        const newCell = cell.cloneNode(true);\n        if (activeCount < 2 || activeCount > 3) {\n            newCell.classList.remove(\"alive\");\n        } else if (activeCount === 3) {\n            newCell.classList.add(\"alive\");\n        }\n        //console.log(cell.parentElement.rowIndex);\n        // const tr = tbody.insertRow(-1);\n        if (!newTbody.rows[cell.parentElement.rowIndex]) {\n            //tr = document.createElement(\"tr\");\n            tr = newTbody.insertRow(-1);\n            // newTbody.appendChild(tr);\n        }\n        if (activeCount) {\n            //newCell.innerText = activeCount;\n        }\n\n        tr.appendChild(newCell);\n\n    }\n\n    // //table.replaceChild(table.tBodies[0], newTbody)\n    // table.tBodies[0] = newTbody;\n\n\n    //main.replaceChild(main.querySelector(\"table\"), newTable);\n\n    main.replaceChildren(newTable);\n\n    console.log(Date.now()-start);\n\n    if (document.querySelectorAll(\".cell.alive\").length === 0) {\n        clearInterval(intervalId);\n    }\n\n}\n\nvar intervalId;\nconst start = document.querySelector(\"button\");\nstart.addEventListener(\"click\", function () {\n\n\n    intervalId = setInterval(_iterate, INSTANT);\n})\n\n","let createNanoEvents = () => ({\n  events: {},\n  emit(event, ...args) {\n    ;(this.events[event] || []).forEach(i => i(...args))\n  },\n  on(event, cb) {\n    ;(this.events[event] = this.events[event] || []).push(cb)\n    return () =>\n      (this.events[event] = (this.events[event] || []).filter(i => i !== cb))\n  }\n})\n\nmodule.exports = { createNanoEvents }\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","\"use strict\";\n\nvar world = require(\"src/pages/life/world.js\");\n\nworld.init();"],"names":["createNanoEvents","module","exports","index","alive","me","document","createElement","className","classList","add","setAttribute","table","querySelector","rows","tBodies","row","length","tr","appendChild","offsetLeft","window","innerWidth","removeChild","cell","ALIVE","intervalId","ALIVE_CELLS","_iterate","start","Date","now","main","cells","querySelectorAll","newTable","newTbody","createTBody","activeCount","neighbors","rowAbove","parentElement","previousSibling","rowBelow","nextSibling","push","cellIndex","neighbor","contains","newCell","cloneNode","remove","rowIndex","insertRow","replaceChildren","console","log","clearInterval","init","header","tableBottom","offsetHeight","getBoundingClientRect","height","counter","innerHeight","indexOf","addEventListener","e","target","toggle","setInterval","events","emit","event","args","this","forEach","i","on","cb","filter","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__"],"sourceRoot":""}