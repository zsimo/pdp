{"version":3,"sources":["webpack:///./node_modules/nanoevents/index.cjs","webpack:///./src/events.js","webpack:///./src/helpers.js","webpack:///./src/pages/population/person.js","webpack:///./src/pages/population/world.js","webpack:///webpack/bootstrap","webpack:///./src/pages/population/index.js"],"names":["module","exports","createNanoEvents","events","event","args","i","this","cb","push","filter","getRandomBetween","min","max","Math","floor","random","helpers","BOTTOM","document","querySelector","clientHeight","RIGHT","clientWidth","HORIZONTAL","horizontal_step","vertical_step","linearNext","current","direction","linear","me","style","top","parseInt","left","life","unbindMove","unbindFood","className","emit","index","createElement","on","bind","unbindDestroy","number","removeChild","console","log","getAttribute","setAttribute","appendChild","person","init","setInterval","__webpack_module_cache__","__webpack_require__","moduleId","__webpack_modules__","world","addEventListener"],"mappings":"qBAaAA,EAAOC,QAAU,CAAEC,iBAbI,KAAM,CAC3BC,OAAQ,GACR,KAAMC,KAAUC,GACd,IAAK,IAAIC,KAAKC,KAAKJ,OAAOC,IAAU,GAClCE,KAAKD,IAGT,GAAID,EAAOI,GAET,OADED,KAAKJ,OAAOC,GAASG,KAAKJ,OAAOC,IAAU,IAAIK,KAAKD,GAC/C,IAAOD,KAAKJ,OAAOC,GAASG,KAAKJ,OAAOC,GAAOM,QAAOJ,GAAKA,IAAME,S,2BCR5E,IAAI,iBAAEN,GAAqB,EAAQ,KACnCF,EAAOC,QAAUC,K,qBCDjBF,EAAOC,QAAU,CACbU,iBAAkB,SAAUC,EAAKC,GAC7B,OAAQC,KAAKC,MAAMD,KAAKE,UAAYH,EAAMD,GAAOA,M,2BCDzD,IAAIT,EAAS,EAAQ,KACjBc,EAAU,EAAQ,KAEtB,MACMC,EAASC,SAASC,cAAc,QAAQC,aAExCC,EAAQH,SAASC,cAAc,QAAQG,YAEvCC,EAAa,aAEnB,IAAIC,EAAkB,EAClBC,EAAgB,EAUpB,SAASC,EAAYC,EAASC,GAC1B,OAAIA,IAAcL,IACVI,GAlBC,IAkBkBA,GAAWN,KAC9BG,GAAoBA,GAEjBG,EAAUH,KAEbG,GAzBA,IAyBkBA,GAAWV,KAC7BQ,GAAkBA,GAEfE,EAAUF,GASzB,SAASI,IAELvB,KAAKwB,GAAGC,MAAMC,IAAMN,EAAWO,SAAS3B,KAAKwB,GAAGC,MAAMC,IAAK,IAjC9C,YAiC+D,KAC5E1B,KAAKwB,GAAGC,MAAMG,KAAOR,EAAWO,SAAS3B,KAAKwB,GAAGC,MAAMG,KAAM,IAAKX,GAAc,KAE9D,IAAdjB,KAAK6B,MACL7B,KAAK8B,aACL9B,KAAK+B,aACL/B,KAAKwB,GAAGQ,UAAY,OACpBpC,EAAOqC,KAAK,OAAQjC,KAAKwB,GAAGC,MAAMC,IAAK1B,KAAKwB,GAAGC,MAAMG,OAErD5B,KAAK6B,MAAQ,EAwCrBpC,EAAOC,QAnCM,SAAUwC,GAEnBlC,KAAKwB,GAAKZ,SAASuB,cAAc,OACjCnC,KAAK6B,KAAOnB,EAAQN,iBAAiB,GAAI,KACzCJ,KAAK8B,WAAalC,EAAOwC,GAAG,OAAQb,EAAOc,KAAKrC,OAGhD,IAAIsC,EAAgB1C,EAAOwC,GAAG,UAAW,SAAUG,GAE/CvC,KAAK+B,aACL/B,KAAK8B,aACLQ,IAEA1B,SAASC,cAAc,QAAQ2B,YAAYxC,KAAKwB,KAElDa,KAAKrC,OAEPA,KAAK+B,WAAanC,EAAOwC,GAAG,OAAQ,SAAUV,EAAKE,GAE3CF,IAAQ1B,KAAKwB,GAAGC,MAAMC,KAAOE,IAAS5B,KAAKwB,GAAGC,MAAMG,OACpDa,QAAQC,IAAI1C,KAAKwB,GAAGmB,aAAa,cAAe,WAAY3C,KAAK6B,MACjE7B,KAAK6B,MAAQ,KAGnBQ,KAAKrC,OAEPA,KAAKwB,GAAGC,MAAMC,IAAMhB,EAAQN,iBA/EpB,GA+E0CO,GAAU,KAC5DX,KAAKwB,GAAGC,MAAMG,KAAOlB,EAAQN,iBA9EpB,GA8E2CW,GAAS,KAC7Df,KAAKwB,GAAGQ,UAAY,SAEpBhC,KAAKwB,GAAGoB,aAAa,aAAcV,GACnCtB,SAASC,cAAc,QAAQgC,YAAY7C,KAAKwB,M,2BCtFpD,IAAI5B,EAAS,EAAQ,KACjBkD,EAAS,EAAQ,KASrBrD,EAAOC,QAAU,CACbqD,KAPJ,WACI,IAAK,IAAIhD,EAAI,EAAGA,EAHJ,IAGiBA,GAAK,EAC9B,IAAI+C,EAAO/C,KAUnBiD,aAAY,WACRpD,EAAOqC,KAAK,UAlBE,OCDdgB,EAA2B,GAG/B,SAASC,EAAoBC,GAE5B,GAAGF,EAAyBE,GAC3B,OAAOF,EAAyBE,GAAUzD,QAG3C,IAAID,EAASwD,EAAyBE,GAAY,CAGjDzD,QAAS,IAOV,OAHA0D,EAAoBD,GAAU1D,EAAQA,EAAOC,QAASwD,GAG/CzD,EAAOC,Q,mBClBf,IAAI2D,EAAQ,EAAQ,KAIpBzC,SAAS0C,iBAAiB,oBAAoB,WAI1CD,EAAMN,W","file":"population_7086fe32eb15cf6f34d6.js","sourcesContent":["let createNanoEvents = () => ({\n  events: {},\n  emit (event, ...args) {\n    for (let i of this.events[event] || []) {\n      i(...args)\n    }\n  },\n  on (event, cb) {\n    ;(this.events[event] = this.events[event] || []).push(cb)\n    return () => (this.events[event] = this.events[event].filter(i => i !== cb))\n  }\n})\n\nmodule.exports = { createNanoEvents }\n","\"use strict\";\nvar { createNanoEvents } = require('nanoevents');\nmodule.exports = createNanoEvents();","\"use strict\";\nmodule.exports = {\n    getRandomBetween: function (min, max) {\n        return  Math.floor(Math.random() * (max - min) + min);\n    }\n};\n\n\n\n","\"use strict\";\n\nvar events = require(\"src/events\");\nvar helpers = require(\"src/helpers\");\n\nconst TOP = 20;\nconst BOTTOM = document.querySelector(\"main\").clientHeight;\nconst LEFT = 20;\nconst RIGHT = document.querySelector(\"main\").clientWidth;\n\nconst HORIZONTAL = \"horizontal\";\nconst VERTICAL = \"vertical\";\nvar horizontal_step = 1;\nvar vertical_step = 1;\n\nfunction randomNext (current, direction) {\n    var newCord = current + (helpers.getRandomBetween(1, 2) === 1 ? -1 : 1);\n    if (direction === HORIZONTAL) {\n        return Math.min(Math.max(newCord, TOP), BOTTOM);\n    } else {\n        return Math.min(Math.max(newCord, LEFT), RIGHT);\n    }\n}\nfunction linearNext (current, direction) {\n    if (direction === HORIZONTAL) {\n        if (current <= LEFT || current >= RIGHT) {\n            horizontal_step = - horizontal_step;\n        }\n        return current + horizontal_step;\n    } else {\n        if (current <= TOP || current >= BOTTOM) {\n            vertical_step = - vertical_step;\n        }\n        return current + vertical_step;\n    }\n\n}\n\nfunction randomMovement (me) {\n    me.style.top = randomNext(parseInt(me.style.top, 10), VERTICAL) + \"px\";\n    me.style.left = randomNext(parseInt(me.style.left, 10), HORIZONTAL) + \"px\";\n}\nfunction linear () {\n\n    this.me.style.top = linearNext(parseInt(this.me.style.top, 10), VERTICAL) + \"px\";\n    this.me.style.left = linearNext(parseInt(this.me.style.left, 10), HORIZONTAL) + \"px\";\n\n    if (this.life === 0) {\n        this.unbindMove();\n        this.unbindFood();\n        this.me.className = \"food\";\n        events.emit(\"food\", this.me.style.top, this.me.style.left);\n    } else {\n        this.life -= 1;\n    }\n\n}\n\nvar person = function (index) {\n\n    this.me = document.createElement(\"div\");\n    this.life = helpers.getRandomBetween(10, 100);\n    this.unbindMove = events.on('move', linear.bind(this));\n\n\n    var unbindDestroy = events.on('destroy', function (number) {\n\n        this.unbindFood();\n        this.unbindMove();\n        unbindDestroy();\n\n        document.querySelector(\"main\").removeChild(this.me);\n\n    }.bind(this));\n\n    this.unbindFood = events.on('food', function (top, left) {\n\n        if (top === this.me.style.top || left === this.me.style.left) {\n            console.log(this.me.getAttribute(\"data-index\"), \"mangiato\", this.life)\n            this.life += 50;\n        }\n\n    }.bind(this));\n\n    this.me.style.top = helpers.getRandomBetween(TOP, BOTTOM) + \"px\";\n    this.me.style.left = helpers.getRandomBetween(LEFT, RIGHT) + \"px\";\n    this.me.className = \"person\";\n    // me.innerText = index;\n    this.me.setAttribute(\"data-index\", index);\n    document.querySelector(\"main\").appendChild(this.me);\n\n};\n\nmodule.exports = person;","\"use strict\";\n\nconst FREQUENCY = 100;\nvar events = require(\"src/events\");\nvar person = require(\"src/pages/population/person\");\nconst COUNTER = 200;\n\nfunction create () {\n    for (var i = 0; i < COUNTER; i += 1) {\n        new person(i);\n    }\n}\n\nmodule.exports = {\n    init: create\n};\n\n\n\nsetInterval(function () {\n    events.emit(\"move\");\n}, FREQUENCY);\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","\"use strict\";\n\nvar world = require(\"src/pages/population/world.js\");\n\n\n\ndocument.addEventListener('DOMContentLoaded', function () {\n    // document.querySelector(\".sidebar\").style.height = window.innerHeight + \"px\";\n    // document.querySelector(\"main\").style.height = window.innerHeight + \"px\";\n\n    world.init();\n});"],"sourceRoot":""}