{"version":3,"file":"life_b3e9ac33fdde6e078d78.js","mappings":"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","sources":["webpack:///./src/events.js","webpack:///./src/pages/life/cell.js","webpack:///./src/pages/life/world.js","webpack:///./node_modules/nanoevents/index.cjs","webpack:///webpack/bootstrap","webpack:///./src/pages/life/index.js"],"sourcesContent":["\"use strict\";\nvar { createNanoEvents } = require('nanoevents');\nmodule.exports = createNanoEvents();","\"use strict\";\n\nvar events = require(\"src/events\");\n\n\nmodule.exports = function (index, alive) {\n    alive = !!alive;\n\n    var me = document.createElement(\"td\");\n\n    me.className = \"cell\";\n    if (alive) {\n        me.classList.add(\"alive\");\n    }\n    // me.innerText = index;\n    me.setAttribute(\"data-index\", index);\n\n    const table = document.querySelector(\"table\");\n    const rows = table.tBodies[0].rows;\n    let row = rows[rows.length - 1];\n    if (!row) {\n        const tr = document.createElement(\"tr\");\n        table.tBodies[0].appendChild(tr);\n        row = tr;\n\n    }\n    row.appendChild(me);\n    if (me.offsetLeft > window.innerWidth - 49) {\n        row.removeChild(me);\n        const tr = document.createElement(\"tr\");\n        table.tBodies[0].appendChild(tr);\n    }\n    //console.log(table.tBodies[0].rows)\n    //document.querySelector(\"main\").appendChild(me);\n\n};","\"use strict\";\n\nvar events = require(\"src/events\");\nvar cell = require(\"src/pages/life/cell\");\n\nlet generation = 0;\nconst main = document.querySelector(\"main\");\nconst generationLabel = document.querySelector(\"#generation\");\nconst ALIVE = \"alive\";\nconst INSTANT = 100;\nconst X = 0;\nconst Y = 1;\nconst ALIVE_CELLS = [\n    // 1358, 1428, 1498, 1429, 1360\n\n    // 1, 23, 4, 56, 6, 7, 8, 9, 10,\n    // 20, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60,\n    // 30, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60,\n    // 40, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60,\n    // 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60,\n    // 60, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60\n];\nconst PATTERNS = {\n    blinker: [\n        [5, 5],\n        [5, 6],\n        [5, 7],\n    ],\n    glider: [\n        [5, 5],\n        [6, 6],\n        [7, 6],\n        [7, 5],\n        [7, 4],\n    ],\n    pentadecathlon: [\n        [15, 5],\n        [15, 6],\n        [15, 7],\n        [16, 7],\n        [17, 6],\n\n        [11, 9],\n        [10, 9],\n        [9, 9],\n        [11, 10],\n        [10, 11],\n\n        [16, 11],\n        [17, 11],\n        [17, 12],\n        [18, 12],\n        [16, 13],\n    ]\n};\n// var cells = [];\n// for (var i = 0; i < count; i += 1) {\n//     cells.push(i);\n// }\n\n\nfunction create () {\n    const table = document.querySelector(\"table\");\n    const header = document.querySelector(\"header\");\n    const padding = 10;\n    let tableBottom = table.offsetHeight + header.getBoundingClientRect().height + padding;\n    let counter = 1;\n    while (tableBottom <= window.innerHeight) {\n        new cell(counter, ALIVE_CELLS.indexOf(counter) !== -1);\n        counter += 1;\n        tableBottom = table.offsetHeight + header.getBoundingClientRect().height + padding;\n    }\n    const rows = table.tBodies[0].rows;\n    table.tBodies[0].removeChild(rows[rows.length - 1]);\n\n    main.addEventListener(\"click\", function (e) {\n        const target = e.target;\n        if (target.tagName === \"TD\") {\n            target.classList.toggle(ALIVE);\n        }\n    });\n}\n\nmodule.exports = {\n    init: create\n};\n\n\nfunction _iterate () {\n\n    let start = Date.now();\n    const cells = main.querySelectorAll(\".cell\");\n\n    // const fragment = new DocumentFragment();\n    const newTable = document.createElement(\"table\");\n    const newTbody = newTable.createTBody();\n    //const newTbody = document.createElement(\"tbody\");\n    // fragment.appendChild(newTable);\n    let tr;\n    for (const cell of cells) {\n        let activeCount = 0;\n        const neighbors = [];\n        const rowAbove = cell.parentElement.previousSibling;\n        const rowBelow = cell.parentElement.nextSibling;\n        if (rowAbove) {\n            // topLeft\n            neighbors.push(rowAbove.cells[cell.cellIndex - 1]);\n            // top\n            neighbors.push(rowAbove.cells[cell.cellIndex]);\n            // topRight\n            neighbors.push(rowAbove.cells[cell.cellIndex + 1]);\n        }\n\n        // left\n        neighbors.push(cell.previousSibling);\n        // right\n        neighbors.push(cell.nextSibling);\n        if (rowBelow) {\n            // belowLeft\n            neighbors.push(rowBelow.cells[cell.cellIndex - 1]);\n            // below\n            neighbors.push(rowBelow.cells[cell.cellIndex]);\n            // belowRight\n            neighbors.push(rowBelow.cells[cell.cellIndex + 1]);\n        }\n\n\n        for (const neighbor of neighbors) {\n            if (neighbor && neighbor.classList.contains(ALIVE)) {\n                activeCount += 1;\n            }\n        }\n        const newCell = cell.cloneNode(true);\n        if (activeCount < 2 || activeCount > 3) {\n            newCell.classList.remove(\"alive\");\n        } else if (activeCount === 3) {\n            newCell.classList.add(\"alive\");\n        }\n        //console.log(cell.parentElement.rowIndex);\n        // const tr = tbody.insertRow(-1);\n        if (!newTbody.rows[cell.parentElement.rowIndex]) {\n            //tr = document.createElement(\"tr\");\n            tr = newTbody.insertRow(-1);\n            // newTbody.appendChild(tr);\n        }\n        if (activeCount) {\n            //newCell.innerText = activeCount;\n        }\n\n        tr.appendChild(newCell);\n\n    }\n\n    // //table.replaceChild(table.tBodies[0], newTbody)\n    // table.tBodies[0] = newTbody;\n\n\n    //main.replaceChild(main.querySelector(\"table\"), newTable);\n\n    main.replaceChildren(newTable);\n\n    console.log(Date.now()-start);\n\n    generation ++;\n\n    generationLabel.innerText = \"Generation: \" + generation;\n\n    if (document.querySelectorAll(\".cell.alive\").length === 0) {\n        clearInterval(intervalId);\n    }\n\n}\n\nvar intervalId;\nconst start = document.querySelector(\"button#start\");\nstart.addEventListener(\"click\", function () {\n    intervalId = setInterval(_iterate, INSTANT);\n});\nconst stop = document.querySelector(\"button#stop\");\nstop.addEventListener(\"click\", function () {\n    clearInterval(intervalId);\n});\nconst clear = document.querySelector(\"button#clear\");\nfunction _clear () {\n    clearInterval(intervalId);\n    generation = 0;\n    generationLabel.innerText = \"\";\n    const liveCells = document.querySelectorAll(\".cell.alive\");\n    for (const cell of liveCells) {\n        cell.classList.remove(\"alive\");\n    }\n}\nclear.addEventListener(\"click\", _clear);\nconst patterns = document.querySelector(\"select\");\npatterns.addEventListener(\"change\", function (event) {\n    const patterName = this.value;\n    _clear();\n    _setPattern(patterName);\n    console.log(patterName);\n});\nfunction _setPattern (patterName) {\n    const table = document.querySelector(\"table\");\n    if (PATTERNS[patterName]) {\n        for (const coordinate of PATTERNS[patterName]) {\n            table.rows[coordinate[Y]].cells[coordinate[X]].classList.add(\"alive\");\n        }\n    }\n}\n","let createNanoEvents = () => ({\n  events: {},\n  emit(event, ...args) {\n    ;(this.events[event] || []).forEach(i => i(...args))\n  },\n  on(event, cb) {\n    ;(this.events[event] = this.events[event] || []).push(cb)\n    return () =>\n      (this.events[event] = (this.events[event] || []).filter(i => i !== cb))\n  }\n})\n\nmodule.exports = { createNanoEvents }\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","\"use strict\";\n\nvar world = require(\"src/pages/life/world.js\");\n\nworld.init();"],"names":["createNanoEvents","module","exports","index","alive","me","document","createElement","className","classList","add","setAttribute","table","querySelector","rows","tBodies","row","length","tr","appendChild","offsetLeft","window","innerWidth","removeChild","cell","generation","main","generationLabel","ALIVE","ALIVE_CELLS","PATTERNS","blinker","glider","pentadecathlon","_iterate","start","Date","now","cells","querySelectorAll","newTable","newTbody","createTBody","activeCount","neighbors","rowAbove","parentElement","previousSibling","rowBelow","nextSibling","push","cellIndex","neighbor","contains","newCell","cloneNode","remove","rowIndex","insertRow","replaceChildren","console","log","innerText","clearInterval","intervalId","_clear","liveCells","init","header","tableBottom","offsetHeight","getBoundingClientRect","height","counter","innerHeight","indexOf","addEventListener","e","target","tagName","toggle","setInterval","event","patterName","this","value","coordinate","_setPattern","events","emit","args","forEach","i","on","cb","filter","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__"],"sourceRoot":""}